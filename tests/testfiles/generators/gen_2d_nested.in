procedure main() returns integer {
    // Outer generator builds a base row vector
    var integer[*] base = [a in 1..3 | a * 2];          // [2 4 6]

    // 2D generator: domains are ranges (array domains not yet supported in iterator loops)
    var integer[*][*] M = [
        i in 2..3,                                       // domain1: 2,3
        j in 1..3                                        // domain2: 1,2,3
        | i * j + base[j]                                // expr: mixes domain2 value and base
    ];

    M -> std_output;
    return 0;
}
//CHECK_FILE:gen_2d_nested.out

