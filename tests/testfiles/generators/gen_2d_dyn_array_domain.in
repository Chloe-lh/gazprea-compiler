// This test exercises an unsupported case today: a wildcard matrix
// initialized from generator domains that are dynamic arrays (not ranges).
// Semantic/MLIR currently cannot supply dynamic extents for array domains,
// so allocation should fail with a runtime error about missing size operands.
//
// Expected: failure at runtime/allocation (not a passing test)

procedure main() returns integer {
    var integer n;
    n <- std_input;                 // runtime length, unknown at sema

    // Dynamic 1D array with runtime size n (dims become [-1])
    var integer[*] dyn = [i in 1..n | i];

    // Wildcard matrix over dynamic array domains (dims stay [-1, -1])
    var integer[*][*] M = [x in dyn, y in dyn | x + y];

    // Would print if allocation succeeded; today this should not be reached.
    M -> std_output;
    return 0;
}

//INPUT:3
