//CHECK_FILE:complex1.out

const GLOBAL_INT = 10;
const GLOBAL_CHAR = 'A';
const GLOBAL_REAL = 2.5;

procedure addAndPrint(integer a, real b) {
    integer sumInt = a + GLOBAL_INT;
    real sumReal = b + GLOBAL_REAL;

    "adding: " -> std_output;
    a -> std_output;
    " + " -> std_output;
    GLOBAL_INT -> std_output;
    " = " -> std_output;
    sumInt -> std_output;
    "\n" -> std_output;

    "adding: " -> std_output;
    b -> std_output;
    " + " -> std_output;
    GLOBAL_REAL -> std_output;
    " = " -> std_output;
    sumReal -> std_output;
    "\n" -> std_output;
}

procedure showTuple() {
    const tuple(integer, character, real) tup = (1, 'x', 3.14);
    "tuple contents\n" -> std_output;
    tup.1 -> std_output;    // integer
    " " -> std_output;
    tup.2 -> std_output;    // character
    " " -> std_output;
    tup.3 -> std_output;    // real
    "\n" -> std_output;
}

procedure main() returns integer {
    integer x = 5;
    real y = 3.0;
    boolean flag = true;
    character letter = 'b';
    var integer asInt;
    var character asChar;
    var boolean asBool;

    GLOBAL_INT -> std_output;
    "\n" -> std_output;
    GLOBAL_CHAR -> std_output;
    "\n" -> std_output;
    GLOBAL_REAL -> std_output;
    "\n" -> std_output;

    (x + 2) -> std_output;
    "\n" -> std_output;
    (y + 4.5) -> std_output;
    "\n\n" -> std_output;

    "Boolean casting\n" -> std_output;

    asInt = as<integer>(flag);      // bool -> int
    asChar = as<character>(flag);   // bool -> char
    asBool = as<boolean>(letter);      // char -> bool

    asInt -> std_output;
    "\n" -> std_output;
    asChar -> std_output;
    "\n" -> std_output;
    asBool -> std_output;
    "\n" -> std_output;

    if (flag) {
        "5 + 10 and 3.0 + 2.5\n" -> std_output; 
        call addAndPrint(x, y);
        "\n\n" -> std_output;
    }

    else {
        999 -> std_output;
    }

    call showTuple();
    return 0;
}
